<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Valentine Protocol üíô</title>

  <style>
    :root{
      --bg1:#061a33;
      --bg2:#0b2b5a;
      --bg3:#0e5aa7;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.12);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --glow: 0 0 28px rgba(90,180,255,.35);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      min-height:100vh;
      overflow-x:hidden;
      background:
        radial-gradient(1200px 600px at 15% 20%, rgba(50,130,255,.32), transparent 60%),
        radial-gradient(900px 500px at 80% 20%, rgba(0,220,255,.18), transparent 55%),
        radial-gradient(700px 450px at 60% 85%, rgba(120,90,255,.18), transparent 55%),
        linear-gradient(140deg, var(--bg1), var(--bg2) 55%, var(--bg3));
    }

    /* animated background blobs */
    .blob{
      position:fixed;
      inset:auto;
      width:520px; height:520px;
      filter: blur(40px);
      opacity:.35;
      border-radius: 40% 60% 55% 45% / 55% 40% 60% 45%;
      animation: float 12s ease-in-out infinite;
      pointer-events:none;
      z-index:-1;
    }
    .b1{ left:-140px; top:-170px; background: radial-gradient(circle at 30% 30%, #62b7ff, transparent 60%); }
    .b2{ right:-180px; top:40px; background: radial-gradient(circle at 70% 30%, #1de2ff, transparent 62%); animation-delay:-4s; }
    .b3{ left:35%; bottom:-240px; background: radial-gradient(circle at 30% 70%, #6a7bff, transparent 60%); animation-delay:-7s; }
    @keyframes float{
      0%,100%{ transform: translate(0,0) rotate(0deg) scale(1); }
      50%{ transform: translate(40px, -18px) rotate(8deg) scale(1.04); }
    }

    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 28px 18px 70px;
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      margin-bottom:18px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .logo{
      width:44px; height:44px;
      border-radius: 14px;
      background: linear-gradient(145deg, rgba(255,255,255,.22), rgba(255,255,255,.08));
      box-shadow: var(--glow);
      display:grid;
      place-items:center;
      border: 1px solid rgba(255,255,255,.18);
    }
    .logo span{ font-size: 22px; }
    .title{
      line-height:1.15;
    }
    .title h1{
      margin:0;
      font-size: 18px;
      font-weight: 750;
      letter-spacing:.2px;
    }
    .title p{
      margin:3px 0 0;
      color:var(--muted);
      font-size: 13px;
    }

    .chip{
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.07);
      box-shadow: 0 10px 30px rgba(0,0,0,.18);
      font-size: 13px;
      color: var(--muted);
      white-space:nowrap;
    }

    .card{
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--card), rgba(255,255,255,.05));
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: 0 22px 60px rgba(0,0,0,.25);
      overflow:hidden;
    }

    .hero{
      padding: 26px 20px;
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap: 18px;
    }
    @media (max-width: 860px){
      .hero{ grid-template-columns: 1fr; }
    }

    .hero h2{
      margin: 0 0 10px;
      font-size: 28px;
      letter-spacing:.2px;
    }
    .hero p{
      margin: 0 0 18px;
      color: var(--muted);
      font-size: 15px;
      line-height: 1.55;
    }

    .panel{
      border-radius: 18px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      padding: 16px;
    }

    .btns{ display:flex; flex-wrap:wrap; gap: 10px; }
    button{
      border: 0;
      cursor:pointer;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight: 700;
      letter-spacing:.2px;
      transition: transform .08s ease, filter .12s ease;
      user-select:none;
    }
    button:active{ transform: translateY(1px) scale(.99); }

    .btn-yes{
      background: linear-gradient(135deg, #61c6ff, #2f86ff);
      color: #05203f;
      box-shadow: 0 14px 40px rgba(60,160,255,.25);
    }
    .btn-no{
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.18);
      color: var(--text);
    }
    .btn-ghost{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.16);
      color: var(--text);
    }

    .status{
      display:flex;
      gap: 10px;
      align-items:center;
      margin-top: 10px;
      color: var(--muted);
      font-size: 13px;
    }
    .dot{
      width:10px; height:10px;
      border-radius:999px;
      background: #77d7ff;
      box-shadow: 0 0 16px rgba(119,215,255,.6);
    }

    .side{
      display:grid;
      gap: 12px;
      align-content:start;
    }

    .memeBox{
      display:grid;
      gap: 10px;
    }
    .meme{
      width:100%;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      overflow:hidden;
      background: rgba(0,0,0,.12);
      min-height: 190px;
      display:grid;
      place-items:center;
      position:relative;
    }
    .meme img{
      width:100%;
      height: 260px;
      object-fit: cover;
      display:block;
    }
    .meme .caption{
      position:absolute;
      left:12px; right:12px; bottom:10px;
      background: rgba(0,0,0,.45);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 10px 12px;
      font-size: 13px;
      color: rgba(255,255,255,.9);
      backdrop-filter: blur(6px);
    }

    .hidden{ display:none !important; }

    /* YES screen */
    .yesWrap{
      padding: 22px 20px 26px;
      border-top: 1px solid rgba(255,255,255,.14);
      background: radial-gradient(1200px 420px at 50% 0%, rgba(97,198,255,.18), transparent 60%);
    }
    .yesTitle{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 10px;
    }
    .yesTitle h3{
      margin:0;
      font-size: 22px;
    }
    .yesTitle p{
      margin:6px 0 0;
      color: var(--muted);
      line-height:1.55;
    }

    .grid{
      margin-top: 16px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
    }
    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
    }
    .gift{
      padding: 16px;
      border-radius: 18px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 18px 40px rgba(0,0,0,.16);
      display:grid;
      gap:10px;
      align-content:start;
    }
    .gift .icon{
      width: 46px; height:46px;
      border-radius: 16px;
      display:grid;
      place-items:center;
      background: linear-gradient(145deg, rgba(255,255,255,.2), rgba(255,255,255,.06));
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: var(--glow);
      font-size: 22px;
    }
    .gift h4{ margin:0; font-size: 16px; }
    .gift p{ margin:0; color: var(--muted); font-size: 13px; line-height:1.55; }
    .gift .actions{ display:flex; flex-wrap:wrap; gap:10px; margin-top: 6px; }

    /* modal */
    .modalOverlay{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.58);
      backdrop-filter: blur(8px);
      display:grid;
      place-items:center;
      padding: 18px;
      z-index: 50;
    }
    .modal{
      width:min(860px, 100%);
      border-radius: 22px;
      background: linear-gradient(180deg, rgba(10,30,55,.92), rgba(6,20,40,.92));
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: 0 30px 90px rgba(0,0,0,.45);
      overflow:hidden;
    }
    .modalHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 16px 16px 12px;
      border-bottom: 1px solid rgba(255,255,255,.14);
    }
    .modalHeader h5{ margin:0; font-size: 16px; }
    .modalBody{
      padding: 14px 16px 18px;
      color: rgba(255,255,255,.9);
      line-height: 1.75;
      font-size: 14px;
      white-space: pre-wrap;
    }
    .closeBtn{
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.16);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      font-weight: 800;
    }

    /* confetti canvas */
    #confetti{
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 40;
    }
  </style>

  <!-- QRCode.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body>
  <div class="blob b1"></div>
  <div class="blob b2"></div>
  <div class="blob b3"></div>

  <canvas id="confetti" class="hidden"></canvas>

  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo"><span>üíô</span></div>
        <div class="title">
          <h1>Valentine Protocol</h1>
          <p>Blue theme. Maximum vibes. Zero excuses.</p>
        </div>
      </div>
      <div class="chip" id="dateChip"></div>
    </header>

    <main class="card">
      <section class="hero">
        <div class="panel">
          <h2 id="mainQ">Hey there chicken, will you be my Valentine?</h2>
          <p id="subQ">Answer very carefully. The system is highly sensitive and emotionally expensive.</p>

          <div class="btns" id="questionBtns">
            <button class="btn-yes" id="yesBtn">YES üíô</button>
            <button class="btn-no" id="noBtn">NO üôÉ</button>
          </div>

          <div class="btns hidden" id="tryAgainBtns">
            <button class="btn-yes" id="tryAgainBtn">Try again üòå</button>
            <button class="btn-ghost" id="backBtn">Back to question</button>
          </div>

          <div class="status" id="statusLine">
            <div class="dot"></div>
            <div><span id="statusText">Waiting for husband‚Äôs decision‚Ä¶</span></div>
          </div>
        </div>

        <div class="side">
          <div class="panel memeBox">
            <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
              <div>
                <div style="font-weight:800;">Friends Mode</div>
                <div style="color:var(--muted); font-size:13px;">If ‚ÄúNO‚Äù, the memes will judge.</div>
              </div>
              <button class="btn-ghost" id="shuffleMemeBtn" style="padding:10px 12px;">Shuffle meme</button>
            </div>

            <div class="meme">
              <img id="memeImg" alt="Friends meme" />
              <div class="caption" id="memeCaption">‚ÄúWe were on a break!‚Äù (‚Ä¶but you‚Äôre not. Try again.)</div>
            </div>

            <div style="color:var(--muted); font-size:12px; line-height:1.5;">
              Tip: swap meme URLs in the code for your favorites (GIPHY links work great).
            </div>
          </div>
        </div>
      </section>

      <!-- YES screen -->
      <section class="yesWrap hidden" id="yesScreen">
        <div class="yesTitle">
          <div>
            <h3>YAYYY YOU SAID YESSS üíô</h3>
            <p>
              Congratulations. You have unlocked your Valentine gifts.
              <br/>Click any gift below.
            </p>
          </div>
          <button class="btn-ghost" id="restartBtn">Restart ‚Üª</button>
        </div>

        <div class="grid">
          <div class="gift">
            <div class="icon">üåπ</div>
            <h4>Rose Bouquet + Tiny Love Notes</h4>
            <p>
              A bouquet full of ‚ÄúI love you‚Äù in 12 different moods:
              cute, clingy, chaotic, calm, and ‚ÄúI‚Äôd pick you in every universe.‚Äù
            </p>
            <div class="actions">
              <button class="btn-yes" id="openLetterBtn">Click me üíå</button>
              <button class="btn-ghost" id="openQuotesBtn">Open notes ‚ú®</button>
            </div>
          </div>

          <div class="gift">
            <div class="icon">üéµ</div>
            <h4>QR Code: ‚ÄúUn Vizhigalil‚Äù</h4>
            <p>
              Scan this and play our vibe. (Works best on phone.)
            </p>
            <div class="actions">
              <button class="btn-yes" id="openQrBtn">Show QR üì±</button>
              <button class="btn-ghost" id="openSongBtn">Open song ‚Üó</button>
            </div>
          </div>

          <div class="gift">
            <div class="icon">üì∏</div>
            <h4>Friends-Themed ‚ÄúMemory Ticket‚Äù</h4>
            <p>
              A mini ‚Äúcoupon‚Äù for a date: snacks + movie + cuddles.
              Bonus: one completely unfair ‚Äúhug tax.‚Äù
            </p>
            <div class="actions">
              <button class="btn-yes" id="openTicketBtn">Redeem üéüÔ∏è</button>
              <button class="btn-ghost" id="openPlanBtn">Pick our date üóìÔ∏è</button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Modals -->
  <div class="modalOverlay hidden" id="modalOverlay">
    <div class="modal">
      <div class="modalHeader">
        <h5 id="modalTitle">Title</h5>
        <button class="closeBtn" id="closeModalBtn">Close</button>
      </div>
      <div class="modalBody" id="modalBody"></div>
    </div>
  </div>

  <script>
    // ====== Customize these ======
    const HUSBAND_NAME = "Praveen";          // e.g., "Praveen"
    const YOUR_NAME = "Divya";           // e.g., "Divya"
    const SONG_URL = "https://www.youtube.com/watch?v=Zi5sLiLlXCk"; // Un Vizhigalil - Darling

    // Replace with your favorite Friends GIF direct image URLs if you want.
    // Tip: GIPHY share -> copy GIF link or use a direct image URL.
    const FRIENDS_MEMES = [
      {
        img: "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExbHV1bGl2eTV1YW42bDQwZ3k2aHZ3eHM5cmhzcXNjaXNlejkydWhubCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Z9JH2USQQvyYdcabRo/giphy.gif",
        caption: "‚ÄúNoooo. Try again üòå"
      },
      {
        img: "https://media.giphy.com/media/3o7aD2saalBwwftBIY/giphy.gif",
        caption: "‚ÄúCould you BE any more wrong?‚Äù ‚Üí press YES üíô"
      },
      {
        img: "https://media.giphy.com/media/l0HlBO7eyXzSZkJri/giphy.gif",
        caption: "This NO is giving‚Ä¶ Ross energy. Fix it."
      },
      {
        img: "https://media.giphy.com/media/JqDeI2yjpSRgdh35oe/giphy.gif",
        caption: "‚ÄúOh. My. God.‚Äù You clicked NO? Try again."
      }
    ];

    const LOVE_LETTER =
`To the love of my life ‚Äî

You make me calm in my chest and you're the spark in my imagination.
You make ordinary days feel softer, brighter‚Ä¶ worth remembering.

Every time I look at you, I‚Äôm hit with that quiet, unbelievable feeling:
‚ÄúI get to love this person. I get to be loved by him.‚Äù
And it still doesn‚Äôt make sense to me, in the best way.

I admire you, not just for how you look (even though‚Ä¶ wow ahem have you seen those biceps),
but for who you are when no one‚Äôs watching.
Your passion. Your ambition. Your quiet love. The way you show up.
The way you make me feel safe enough to dream bigger.

Sometimes I think about younger me, the kid-version of my heart, 
and I want to thank her for recognizing something beautiful back then.
Because now I see everything.
And choosing you has been the best decision my life has ever made.

I don‚Äôt want a life where you‚Äôre not in it.
I don‚Äôt even want to imagine it.
I want *this* life, with you, again and again and again,
in every timeline, in every universe, for as long as time allows.

Happy Valentine‚Äôs Day, ${HUSBAND_NAME}.
I love you more than words can carry.

‚Äî ${YOUR_NAME} üíô`;

    const ROSE_NOTES = [
      "If I had a rose for every time I thought of you, I‚Äôd be walking in a garden forever. üåπ",
      "I choose you, in the loud days and the quiet ones. Always.",
      "You‚Äôre my favorite place to rest.",
      "I love you in the tiniest moments, and in the biggest ones.",
      "If love had a face, it would look like you smiling at me.",
      "You make my heart feel like it‚Äôs home."
    ];

    // ====== Elements ======
    const dateChip = document.getElementById("dateChip");
    const mainQ = document.getElementById("mainQ");
    const subQ = document.getElementById("subQ");
    const statusText = document.getElementById("statusText");

    const questionBtns = document.getElementById("questionBtns");
    const tryAgainBtns = document.getElementById("tryAgainBtns");
    const yesScreen = document.getElementById("yesScreen");

    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const tryAgainBtn = document.getElementById("tryAgainBtn");
    const backBtn = document.getElementById("backBtn");
    const restartBtn = document.getElementById("restartBtn");

    const memeImg = document.getElementById("memeImg");
    const memeCaption = document.getElementById("memeCaption");
    const shuffleMemeBtn = document.getElementById("shuffleMemeBtn");

    const modalOverlay = document.getElementById("modalOverlay");
    const modalTitle = document.getElementById("modalTitle");
    const modalBody = document.getElementById("modalBody");
    const closeModalBtn = document.getElementById("closeModalBtn");

    const openLetterBtn = document.getElementById("openLetterBtn");
    const openQuotesBtn = document.getElementById("openQuotesBtn");
    const openQrBtn = document.getElementById("openQrBtn");
    const openSongBtn = document.getElementById("openSongBtn");
    const openTicketBtn = document.getElementById("openTicketBtn");
    const openPlanBtn = document.getElementById("openPlanBtn");

    // Confetti
    const confettiCanvas = document.getElementById("confetti");
    const ctx = confettiCanvas.getContext("2d");
    let confetti = [];
    let confettiTimer = null;

    function setTodayChip(){
      const d = new Date();
      const opts = { weekday:"short", month:"short", day:"numeric" };
      dateChip.textContent = `Today: ${d.toLocaleDateString(undefined, opts)} üíô`;
    }

    function pickMeme(index=null){
      const i = (index === null)
        ? Math.floor(Math.random() * FRIENDS_MEMES.length)
        : index;
      memeImg.src = FRIENDS_MEMES[i].img;
      memeCaption.textContent = FRIENDS_MEMES[i].caption;
    }

    function showTryAgain(){
      questionBtns.classList.add("hidden");
      tryAgainBtns.classList.remove("hidden");
      statusText.textContent = "Incorrect answer detected. Please reconsider with love.";
      // show extra sass
      subQ.textContent = "Okay‚Ä¶ we‚Äôll pretend we didn‚Äôt see that. Press ‚ÄúTry again‚Äù.";
    }

    function showQuestion(){
      questionBtns.classList.remove("hidden");
      tryAgainBtns.classList.add("hidden");
      yesScreen.classList.add("hidden");
      statusText.textContent = "Waiting for husband‚Äôs decision‚Ä¶";
      mainQ.textContent = `Hey there ${HUSBAND_NAME}, will you be my Valentine?`;
      subQ.textContent = "Answer carefully. The system is highly sensitive and emotionally expensive.";
      stopConfetti();
    }

    function showYes(){
      yesScreen.classList.remove("hidden");
      questionBtns.classList.add("hidden");
      tryAgainBtns.classList.add("hidden");
      statusText.textContent = "Approved ‚úÖ Valentine status confirmed.";
      mainQ.textContent = `Excellent choice, ${HUSBAND_NAME}.`;
      subQ.textContent = "Proceeding to the gifts‚Ä¶ (and unlimited cuddles).";
      startConfetti(2200);
    }

    // ====== Modal helpers ======
    function openModal(title, bodyText){
      modalTitle.textContent = title;
      modalBody.innerHTML = bodyText;
      modalOverlay.classList.remove("hidden");
    }
    function closeModal(){
      modalOverlay.classList.add("hidden");
      modalBody.innerHTML = "";
    }

    // ====== Confetti ======
    function resizeCanvas(){
      confettiCanvas.width = window.innerWidth * devicePixelRatio;
      confettiCanvas.height = window.innerHeight * devicePixelRatio;
      confettiCanvas.style.width = window.innerWidth + "px";
      confettiCanvas.style.height = window.innerHeight + "px";
      ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);
    }
    window.addEventListener("resize", resizeCanvas);

    function startConfetti(ms){
      resizeCanvas();
      confettiCanvas.classList.remove("hidden");
      confetti = Array.from({length: 160}, () => ({
        x: Math.random() * window.innerWidth,
        y: -20 - Math.random() * 200,
        r: 3 + Math.random() * 4,
        vx: -1 + Math.random() * 2,
        vy: 2.2 + Math.random() * 3.2,
        a: Math.random() * Math.PI * 2,
        va: -0.12 + Math.random() * 0.24,
        // keep it in a ‚Äúblue family‚Äù vibe without hardcoding exact colors
        hue: 185 + Math.random() * 65
      }));
      if (confettiTimer) clearTimeout(confettiTimer);
      confettiTimer = setTimeout(stopConfetti, ms);
      requestAnimationFrame(tickConfetti);
    }

    function stopConfetti(){
      confettiCanvas.classList.add("hidden");
      confetti = [];
    }

    function tickConfetti(){
      if (!confetti.length) return;
      ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
      for (const p of confetti){
        p.x += p.vx;
        p.y += p.vy;
        p.a += p.va;
        p.vy += 0.01; // gravity

        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.a);
        ctx.fillStyle = `hsla(${p.hue}, 85%, 65%, .9)`;
        ctx.fillRect(-p.r, -p.r, p.r*2.2, p.r*1.6);
        ctx.restore();
      }
      confetti = confetti.filter(p => p.y < window.innerHeight + 60);
      requestAnimationFrame(tickConfetti);
    }

    // ====== Gift actions ======
    openLetterBtn.addEventListener("click", () => {
      openModal("Words from my heart üíå", LOVE_LETTER.replace(/
/g, "<br/>"));
    });

    openQuotesBtn.addEventListener("click", () => {
      const list = ROSE_NOTES.map(x => `‚Ä¢ ${x}`).join("<br/>");
      openModal("Tiny Love Notes üåπ", list);
    });

    openQrBtn.addEventListener("click", () => {
      // Build QR code each time (clear content first)
      const wrap = document.createElement("div");
      wrap.innerHTML = `
        <div style="color:rgba(255,255,255,.86); margin-bottom:10px;">
          Scan to play: <span style="font-weight:800;">Un Vizhigalil</span>
        </div>
        <div id="qr" style="background:rgba(255,255,255,.92); padding:14px; border-radius:16px; width:fit-content;"></div>
        <div style="margin-top:12px; color:rgba(255,255,255,.75); font-size:13px;">
          If your camera doesn‚Äôt auto-open: click ‚ÄúOpen song‚Äù.
        </div>
      `;
      openModal("QR Code üéµ", wrap.outerHTML);

      // Wait for modal to render, then generate
      setTimeout(() => {
        const qrEl = document.getElementById("qr");
        if (qrEl){
          qrEl.innerHTML = "";
          new QRCode(qrEl, {
            text: SONG_URL,
            width: 210,
            height: 210,
            correctLevel: QRCode.CorrectLevel.H
          });
        }
      }, 50);
    });

    openSongBtn.addEventListener("click", () => {
      window.open(SONG_URL, "_blank", "noopener,noreferrer");
    });

    openTicketBtn.addEventListener("click", () => {
      const ticket = `
<b>üéüÔ∏è OFFICIAL VALENTINE COUPON</b><br/><br/>
<b>Redeem for:</b><br/>
‚Ä¢ One cozy movie night (your pick ‚Äî I‚Äôll pretend I‚Äôm not judging üòå)<br/>
‚Ä¢ Snacks + dessert (I will over-deliver.)<br/>
‚Ä¢ Unlimited kisses + one ‚Äúhug tax‚Äù collected randomly.<br/><br/>
<b>Fine print:</b> Valid forever. Non-refundable. Exchangeable only for more cuddles. üíô
      `;
      openModal("Memory Ticket üéüÔ∏è", ticket);
    });

    openPlanBtn.addEventListener("click", () => {
      const plan = `
Pick our date vibe:<br/><br/>
<b>Option A:</b> Home movie + blanket fort<br/>
<b>Option B:</b> Dinner out<br/>
<b>Option C:</b> Friends episode marathon + inside jokes + dessert<br/><br/>
Tell me your pick‚Ä¶ and I‚Äôll make it happen. üíô
      `;
      openModal("Choose our date üóìÔ∏è", plan);
    });

    // ====== Button events ======
    yesBtn.addEventListener("click", showYes);

    noBtn.addEventListener("click", () => {
      pickMeme();
      showTryAgain();
    });

    tryAgainBtn.addEventListener("click", () => {
      // keep it funny: shuffle meme + nudge
      pickMeme();
      statusText.textContent = "System says: ‚ÄòWe can fix this.‚Äô Press YES now üíô";
    });

    backBtn.addEventListener("click", showQuestion);

    restartBtn.addEventListener("click", showQuestion);

    shuffleMemeBtn.addEventListener("click", () => pickMeme());

    closeModalBtn.addEventListener("click", closeModal);
    modalOverlay.addEventListener("click", (e) => {
      if (e.target === modalOverlay) closeModal();
    });

    // ====== Init ======
    setTodayChip();
    mainQ.textContent = `Hey there ${HUSBAND_NAME}, will you be my Valentine?`;
    pickMeme(0);
  </script>
</body>
</html>
